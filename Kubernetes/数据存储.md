# 数据存储

## 1.Volume

### 1.挂载

```yaml
spec:
  containers:
  - name: c1
    volumeMounts:
    - name: mysql-cred                # 挂载卷的名称
      mountPath: "/projected-volume"  # 挂载点
      readOnly: true                  # 权限
```
### 2.卷的类型

#### emptyDir

- emptyDir: 和pod同生命周期, 当pod从节点上删除时, `emptyDir`卷中的数据也会被永久删除.
- 用于同pod容器间共享

- ```yaml
    volumes:
    - name: cache-volume
      emptyDir: {}
    ```

#### hostPath

- 能够将节点主机文件系统上的文件或目录挂载到Pod中.

- ```yaml
    volumes:
    - name: test-volume
      hostPath:
        # 宿主上目录位置
        path: /data
        type: Directory
    ```

#### configMap

- 将`configMap`对象中存储到数据转换为卷, 然后可以被Pod中的容器挂载.

- ```yaml
  spec:
    volumes:
      - name: config-vol            # 卷的名称
        configMap: 
          name: config-map-name     # configMap 的名称
          items:  
            - key: key              # 需要映射的key
              path: key-path        # key映射到底path
  ```

#### projected

- `projected`卷: 能够将**若干现有的卷来源映射到同一目录**. 来源包含`secret, downwardAPI, configMap, serviceAccountToken`

  ```yaml
  spec:
    volumes:
      - name: project-volume
        projected:
          sources:
          - secret:
              name: secret-name
          - configMap:
              name: config-map
  ```

#### pvc

- persistentVolumeClaim, 用于将PV挂载到Pod中.

## 2. PV & PVC

## 3.StorageClass



